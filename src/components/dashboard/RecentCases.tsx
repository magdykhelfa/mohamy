import { Briefcase, ArrowLeft } from 'lucide-react'; import { useState, useEffect } from 'react'; export function RecentCases() { const [cases, setCases] = useState<any[]>([]); useEffect(() => { const stored = JSON.parse(localStorage.getItem('lawyer_cases') || '[]'); const sorted = [...stored].sort((a, b) => (b.id || 0) - (a.id || 0)).slice(0, 5); setCases(sorted); }, []); const statusStyles: any = { active: 'bg-green-100 text-green-700', pending: 'bg-amber-100 text-amber-700', closed: 'bg-slate-100 text-slate-700' }; const statusLabels: any = { active: 'نشطة', pending: 'معلقة', closed: 'منتهية' }; return ( <div className="bg-white rounded-2xl border shadow-sm overflow-hidden font-arabic" dir="rtl"> <div className="p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50"> <h2 className="text-lg font-black text-slate-800 flex items-center gap-2"> <Briefcase className="w-5 h-5 text-amber-500" /> آخر القضايا المضافة </h2> <button onClick={() => window.location.href='/mohamy/cases'} className="text-xs font-bold text-amber-600 hover:underline flex items-center gap-1"> عرض الكل <ArrowLeft className="w-4 h-4" /> </button> </div> <div className="overflow-x-auto"> <table className="w-full text-right"> <thead> <tr className="bg-slate-50 text-slate-500"> <th className="px-6 py-3 text-xs font-black uppercase">رقم القضية / العنوان</th> <th className="px-6 py-3 text-xs font-black uppercase">العميل</th> <th className="px-6 py-3 text-xs font-black uppercase">النوع</th> <th className="px-6 py-3 text-xs font-black uppercase">الحالة</th> </tr> </thead> <tbody className="divide-y divide-slate-100"> {cases.length === 0 ? ( <tr><td colSpan={4} className="px-6 py-10 text-center text-slate-400 font-bold">لا يوجد قضايا مسجلة حتى الآن</td></tr> ) : ( cases.map((c) => ( <tr key={c.id} className="hover:bg-slate-50/80 transition-colors cursor-pointer" onClick={() => window.location.href=`/mohamy/cases?id=${c.id}`}> <td className="px-6 py-4"> <div className="font-bold text-slate-800">{c.number || '---'}</div> <div className="text-[10px] text-slate-400 font-bold">{c.title || 'بدون عنوان'}</div> </td> <td className="px-6 py-4 text-sm font-bold text-slate-600">{c.client || c.clientName}</td> <td className="px-6 py-4"> <span className="px-2 py-1 rounded-lg text-[10px] font-black bg-blue-50 text-blue-600 border border-blue-100">{c.type}</span> </td> <td className="px-6 py-4"> <span className={`px-2 py-1 rounded-lg text-[10px] font-black border ${statusStyles[c.status] || 'bg-slate-50 text-slate-500'}`}> {statusLabels[c.status] || c.status} </span> </td> </tr> )) )} </tbody> </table> </div> </div> ); }